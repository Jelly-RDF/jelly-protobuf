PREFIX jellyt: <https://w3id.org/jelly/dev/tests/vocab#>
PREFIX mf:     <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#>
PREFIX rdfs:   <http://www.w3.org/2000/01/rdf-schema#>

BASE           <https://w3id.org/jelly/dev/tests/rdf/from_jelly/>

# See this for inspiration: https://www.w3.org/2013/TurtleTests/manifest.ttl

<manifest> a mf:Manifest ;
    rdfs:label "Jelly-RDF test cases: from Jelly to RDF" ;
    mf:entries (
        # RDF 1.1

        <triples_rdf_1_1/pos_011>

        <graphs_rdf_1_1/neg_002>

        <quads_rdf_1_1/neg_001>
        # TODO: add the rest here

        <quads_rdf_1_1/pos_001>

        <triples_rdf_star/neg_001>
        <triples_rdf_star/neg_002>
        <triples_rdf_star/neg_003>

        <triples_rdf_star/pos_001>
        <triples_rdf_star/pos_002>
        <triples_rdf_star/pos_003>
        <triples_rdf_star/pos_004>
        <triples_rdf_star/pos_005>
        <triples_rdf_star/pos_006>
        <triples_rdf_star/pos_007>
        <triples_rdf_star/pos_008>

        <quads_rdf_star/neg_001>
        <quads_rdf_star/neg_002>
        <quads_rdf_star/neg_003>

        <quads_rdf_star/pos_001>
        <quads_rdf_star/pos_002>
        <quads_rdf_star/pos_003>
        <quads_rdf_star/pos_004>
        <quads_rdf_star/pos_005>
        <quads_rdf_star/pos_006>
        <quads_rdf_star/pos_007>

        # TODO: add the rest here
    ) .


<triples_rdf_1_1/pos_011> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, a triple with unusual but valid IRIs. Prefix table enabled" ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples ;
    mf:action <triples_rdf_1_1/pos_011/in.jelly> ;
    mf:result <triples_rdf_1_1/pos_011/out_001.nt> .

<quads_rdf_1_1/neg_001> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    # TODO: why should it fail?
    mf:name "Single row, a 'triple' row is in the stream" ;
    rdft:approval rdft:Proposed ; # all are "Proposed" for now
    mf:requires jellyt:requirementPhysicalTypeQuads ;
    mf:action <quads_rdf_1_1/neg_001/in.jelly> .

<graphs_rdf_1_1/neg_002> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, no field in the graph oneof is set. Repeated terms are not allowed in graph_start message. Error from from-jelly: Empty graph term encountered in a GRAPHS stream. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeGraphs ;
    mf:action <quads_rdf_1_1/neg_002/in.jelly> .


<quads_rdf_1_1/pos_001> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, a few basic triples in the default graph. Prefix table enabled" ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads ;
    mf:action <quads_rdf_1_1/pos_001/in.jelly> ;
    mf:result <quads_rdf_1_1/pos_001/out_001.nq> .

<triples_rdf_star/neg_001> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, o_triple_term is missing an o_literal. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/neg_001/in.jelly> .

<triples_rdf_star/neg_002> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, o_triple_term is empty in a triple with repeated s/p. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/neg_002/in.jelly> .

<triples_rdf_star/neg_003> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, missing a p_iri on the 7th (out of 10) nesting level of a s_triple_term. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/neg_003/in.jelly> .

<triples_rdf_star/pos_001> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, one triple with a quoted triple as a subject. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_001/in.jelly> ;
    mf:result <triples_rdf_star/pos_001/out_001.nt> .

<triples_rdf_star/pos_002> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, three triples showing a quoted triple as a subject/object/both. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_002/in.jelly> ;
    mf:result <triples_rdf_star/pos_002/out_001.nt> .

<triples_rdf_star/pos_003> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, three triples showcasing a quoted triple as a subject/object/both. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_003/in.jelly> ;
    mf:result <triples_rdf_star/pos_003/out_001.nt> .

<triples_rdf_star/pos_004> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, triples with nesting level 3 as subject/object. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_004/in.jelly> ;
    mf:result <triples_rdf_star/pos_004/out_001.nt> .

<triples_rdf_star/pos_005> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, triples with nesting level 10 as subject/object. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_005/in.jelly> ;
    mf:result <triples_rdf_star/pos_005/out_001.nt> .

<triples_rdf_star/pos_006> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, a triple with nesting level 3, subject is repeated in quoted triples. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_006/in.jelly> ;
    mf:result <triples_rdf_star/pos_006/out_001.nt> .

<triples_rdf_star/pos_007> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "2 frames, triples have quoted triples in s and/or o. Prefix table enabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_007/in.jelly> ;
    mf:result (
        <triples_rdf_star/pos_007/out_001.nt> 
        <triples_rdf_star/pos_007/out_002.nt> 
    ) .

<triples_rdf_star/pos_008> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame utilizing BNs/IRIs for subject and BNs/IRI/Literals for objects in quoted triples. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action <triples_rdf_star/pos_008/in.jelly> ;
    mf:result <triples_rdf_star/pos_008/out_001.nt> .

<quads_rdf_star/neg_001> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, s_triple_term is missing a p_iri. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/neg_001/in.jelly> .

<quads_rdf_star/neg_002> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, o_triple_term is fully empty {}. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/neg_002/in.jelly> .

<quads_rdf_star/neg_003> a jellyt:TestNegative, jellyt:TestRdfFromJelly ;
    mf:name "Single frame, o_triple_term is missing a s_bnode on the third nesting level, same s_bnode is repeated on the top nested levels. Repeated terms are prohibited in quoted triples. Error from from-jelly: deserialization error. Term value is not set inside a quoted triple." ;
    rdft:approval rdft:Proposed ; 
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/neg_003/in.jelly> .

<quads_rdf_star/pos_001> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with one simple quoted triple. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_001/in.jelly> ;
    mf:result <quads_rdf_star/pos_001/out_001.nq> .

<quads_rdf_star/pos_002> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with quoted triples as s/o or both. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_002/in.jelly> ;
    mf:result <quads_rdf_star/pos_002/out_001.nq> .

<quads_rdf_star/pos_003> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with quoted triples of different formats and placements. Diverse graph labels. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_003/in.jelly> ;
    mf:result <quads_rdf_star/pos_003/out_001.nq> .

<quads_rdf_star/pos_004> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with quoted/asserted triples mix. Diverse graph labels. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_004/in.jelly> ;
    mf:result <quads_rdf_star/pos_004/out_001.nq> .

<quads_rdf_star/pos_005> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with quoted/asserted triples mix. Repeated statements inside/outside of quoted triples. Diverse graph labels. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_005/in.jelly> ;
    mf:result <quads_rdf_star/pos_005/out_001.nq> .

<quads_rdf_star/pos_006> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Single frame with quoted triples nested to level 10 in s and o. Diverse graph labels. Prefix table disabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_006/in.jelly> ;
    mf:result <quads_rdf_star/pos_006/out_001.nq> .

<quads_rdf_star/pos_007> a jellyt:TestPositive, jellyt:TestRdfFromJelly ;
    mf:name "Three (3) frames with quoted/asserted triples mix across frames. Diverse graph labels. Prefix table enabled. " ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action <quads_rdf_star/pos_007/in.jelly> ;
    mf:result (
        <quads_rdf_star/pos_007/out_001.nq> 
        <quads_rdf_star/pos_007/out_002.nq> 
        <quads_rdf_star/pos_007/out_003.nq> 
    ) .

# TODO: the rest
