PREFIX jellyt: <https://w3id.org/jelly/dev/tests/vocab#>
PREFIX mf:     <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#>
PREFIX rdfs:   <http://www.w3.org/2000/01/rdf-schema#>

BASE           <https://w3id.org/jelly/dev/tests/rdf/to_jelly/>

# See this for inspiration: https://www.w3.org/2013/TurtleTests/manifest.ttl

<manifest> a mf:Manifest ;
    rdfs:label "Jelly-RDF test cases: from RDF to Jelly" ;
    mf:entries (
        # RDF 1.1
        <triples_rdf_1_1/neg_001>

        <triples_rdf_1_1/pos_014>
        <triples_rdf_1_1/pos_015>
        # TODO: add the rest here

        <triples_rdf_1_1/pos_001>

        # TODO: add the rest here
        <triples_rdf_star/pos_001>
        <triples_rdf_star/pos_002>
        <triples_rdf_star/pos_003>
        <triples_rdf_star/pos_004>
        <triples_rdf_star/pos_005>
        <triples_rdf_star/pos_006>
        <triples_rdf_star/pos_007>
        <triples_rdf_star/pos_008>

        <quads_rdf_star/pos_001>
        <quads_rdf_star/pos_002>
        <quads_rdf_star/pos_003>
        <quads_rdf_star/pos_004>
        <quads_rdf_star/pos_005>
        <quads_rdf_star/pos_006>
        <quads_rdf_star/pos_007>
    ) .

<triples_rdf_1_1/neg_001> a jellyt:TestNegative, jellyt:TestRdfToJelly ;
    # TODO: why should it fail?
    mf:name "A set of three triples with terms violating RDF 1.1 component allowed terms" ;
    rdfs:comment "A set of three triples with terms violating RDF 1.1 component allowed terms. Stream options are: generalized-statements=false, rdf-star=false, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0. NOTE: this test requires a generalized RDF parser." ;
    rdft:approval rdft:Proposed ; # all are "Proposed" for now
    mf:requires jellyt:requirementPhysicalTypeTriples ;
    mf:action (
        <triples_rdf_1_1/neg_001/stream_options.jelly>
        <triples_rdf_1_1/neg_001/in_001.nt>
    ) .


<triples_rdf_1_1/pos_001> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of three triples with only IRIs as terms" ;
    rdfs:comment "A set of three triples with only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=false, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples ;
    mf:action (
        <triples_rdf_1_1/pos_001/stream_options.jelly>
        <triples_rdf_1_1/pos_001/in_001.nt>
    ) ;
    mf:result <triples_rdf_1_1/pos_001/out.jelly> .

<triples_rdf_1_1/pos_014> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A triple with BNs utilizing various allowed characters and symbols (e.g., combining characters and extenders)." ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=false, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples ;
    mf:action (
        <triples_rdf_1_1/pos_014/stream_options.jelly>
        <triples_rdf_1_1/pos_014/in_001.nt>
    ) ;
    mf:result <triples_rdf_1_1/pos_014/out.jelly> .

<triples_rdf_1_1/pos_015> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A triple with IRIs utilizing various allowed characters and symbols (e.g., different alphabets, emoji, percented encoding)." ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=false, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples ;
    mf:action (
        <triples_rdf_1_1/pos_015/stream_options.jelly>
        <triples_rdf_1_1/pos_015/in_001.nt>
    ) ;
    mf:result <triples_rdf_1_1/pos_015/out.jelly> .

<triples_rdf_star/pos_001> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "One triple with a quoted triple as a subject" ;
    rdfs:comment "Only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_001/stream_options.jelly>
        <triples_rdf_star/pos_001/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_001/out.jelly> .

<triples_rdf_star/pos_002> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples with quoted s/o and both s and o quoted" ;
    rdfs:comment "Only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_002/stream_options.jelly>
        <triples_rdf_star/pos_002/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_002/out.jelly> .

<triples_rdf_star/pos_003> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples with the same triples being asserted and quoted" ;
    rdfs:comment "Only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_003/stream_options.jelly>
        <triples_rdf_star/pos_003/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_003/out.jelly> .

<triples_rdf_star/pos_004> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples with nested level 3 as subjects or as objects" ;
    rdfs:comment "Only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_004/stream_options.jelly>
        <triples_rdf_star/pos_004/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_004/out.jelly> .

<triples_rdf_star/pos_005> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples with nested level 10 as subjects or as objects" ;
    rdfs:comment "Only IRIs as terms. Quoted triples have the same predicate. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=16, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_005/stream_options.jelly>
        <triples_rdf_star/pos_005/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_005/out.jelly> .

<triples_rdf_star/pos_006> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples with nested level 3 as objects" ;
    rdfs:comment "Only IRIs as terms. Quoted triples have the same subject. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=16, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_006/stream_options.jelly>
        <triples_rdf_star/pos_006/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_006/out.jelly> .

<triples_rdf_star/pos_007> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples that spans 2 frames, re-using all lookup tables" ;
    rdfs:comment "BNs, IRIs, and Literals used. Quoted triples appear in subject/objects. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=10, max-prefix-table-size=8, max-datatype-table-size=2. 30 rows per frame" ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_007/stream_options.jelly>
        <triples_rdf_star/pos_007/in_001.nt>
        <triples_rdf_star/pos_007/in_002.nt>
    ) ;
    mf:result <triples_rdf_star/pos_007/out.jelly> .

<triples_rdf_star/pos_008> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of triples, each has a quoted triple either as a subject or an object and features IRI/BN as subject and IRI/Literal/BN as object" ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=10, max-prefix-table-size=8, max-datatype-table-size=2. 30 rows per frame" ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeTriples, jellyt:requirementRdfStar ;
    mf:action (
        <triples_rdf_star/pos_008/stream_options.jelly>
        <triples_rdf_star/pos_008/in_001.nt>
    ) ;
    mf:result <triples_rdf_star/pos_008/out.jelly> .

<quads_rdf_star/pos_001> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "One quad with subject as quoted triple" ;
    rdfs:comment "Only IRIs as terms. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_001/stream_options.jelly>
        <quads_rdf_star/pos_001/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_001/out.jelly> .

<quads_rdf_star/pos_002> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "One quad with subject as quoted triple" ;
    rdfs:comment "A set of quads with quoted triples as s/o or both. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=8, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_002/stream_options.jelly>
        <quads_rdf_star/pos_002/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_002/out.jelly> .

<quads_rdf_star/pos_003> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of quads with all possible graph labels and a variety of quoted triples form" ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=16, max-prefix-table-size=0, max-datatype-table-size=4." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_003/stream_options.jelly>
        <quads_rdf_star/pos_003/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_003/out.jelly> .

<quads_rdf_star/pos_004> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of quads with all possible graph labels and a variety of quoted triples form" ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=16, max-prefix-table-size=0, max-datatype-table-size=4." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_004/stream_options.jelly>
        <quads_rdf_star/pos_004/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_004/out.jelly> .

<quads_rdf_star/pos_005> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of quads with all possible graph labels and a variety of quoted triples form, statements repeated 1-3 times inside/outside of quoted triples" ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=16, max-prefix-table-size=0, max-datatype-table-size=4." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_005/stream_options.jelly>
        <quads_rdf_star/pos_005/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_005/out.jelly> .

<quads_rdf_star/pos_006> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of quads that use quoted triples with nesting level 10 as subject/object" ;
    rdfs:comment "Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=32, max-prefix-table-size=0, max-datatype-table-size=0." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_006/stream_options.jelly>
        <quads_rdf_star/pos_006/in_001.nq>
    ) ;
    mf:result <quads_rdf_star/pos_006/out.jelly> .

<quads_rdf_star/pos_007> a jellyt:TestPositive, jellyt:TestRdfToJelly ;
    mf:name "A set of quads to re-use all lookups, featuring quoted triples as s/o to nested level <= 2. Three frames." ;
    rdfs:comment "Altered input from pos_004. Stream options are: generalized-statements=false, rdf-star=true, max-name-table-size=24, max-prefix-table-size=8, max-datatype-table-size=2. 25 rows per frame." ;
    rdft:approval rdft:Proposed ;
    mf:requires jellyt:requirementPhysicalTypeQuads, jellyt:requirementRdfStar ;
    mf:action (
        <quads_rdf_star/pos_007/stream_options.jelly>
        <quads_rdf_star/pos_007/in_001.nq>
        <quads_rdf_star/pos_007/in_002.nq>
        <quads_rdf_star/pos_007/in_003.nq>
    ) ;
    mf:result <quads_rdf_star/pos_007/out.jelly> .

# TODO: the rest
